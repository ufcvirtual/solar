.block_wrapper_all
  .block_title
    %h2= t(:all, :scope => [:scores, :info])
  .block_content
    #tabs
      %ul
        %li.active 
          = link_to t(:evaluative, scope: [:scores, :info]), "#evaluative"
        %li 
          = link_to t(:frequency, scope: [:scores, :info]), "#frequency"
        %li 
          = link_to t(:not_evaluative, scope: [:scores, :info]), "#notevaluative"  

      #evaluative    
        - unless @tool_evaluative.empty?
          %table.tb_list
            %thead
              %tr.lines
                %th{style: "width: 20%;"}= t(:tool, scope: [:scores, :info])
                %th{style: "width: 30%;"}= t(:title, scope: [:scores, :info])
                %th.center.date{style: "width: 25%;"}= t(:date_range, scope: [:scores, :info])
                %th.center{style: "width: 20%;"}= t(:situation, :scope => [:scores, :info])
                %th.center{style: "width: 20%;"}= t(:grade, scope: [:scores, :info])
            %tbody
              - @tool_evaluative.each do |tool|
                %tr.lines
                  %td.show_posts
                    = t(tool.academic_tool_type.downcase, scope: [:activerecord, :models])
                  %td.show_posts
                    = tool.name
                  %td.center
                    - if tool.academic_tool_type.downcase == 'webconference'
                      %div= l(tool.start_hour.to_datetime, format: :at_date)
                    - else
                      %div= [l(tool.start_date.to_date), l(tool.end_date.to_date)].join(' - ')
                      %div= [(tool.start_hour), (tool.end_hour)].join(' - ') unless tool.start_hour.blank?
                  %td.center
                    %div{class: "assignment_#{tool.situation}"}= t(tool.situation, :scope => [:scores, :situation]) unless tool.situation.blank?
                  %td.center
                    = tool.grade.blank? ? ' - ' : tool.grade.to_f              
        - else
          .block_content.block_content_text= t(:itens_not_found)

      #frequency
        - unless  @tool_frequency.empty?
          %table.tb_list
            %thead
              %tr.lines
                %th{style: "width: 20%;"}= t(:tool, scope: [:scores, :info])
                %th{style: "width: 30%;"}= t(:title, scope: [:scores, :info])
                %th.center.date{style: "width: 25%;"}= t(:date_range, scope: [:scores, :info])
                %th.center{style: "width: 20%;"}= t(:situation, :scope => [:scores, :info])
                %th.center{style: "width: 20%;"}= t(:frequency, scope: [:scores, :info])
            %tbody
              -  @tool_frequency.each do |tool|
                %tr.lines
                  %td.show_posts
                    = t(tool.academic_tool_type.downcase, scope: [:activerecord, :models])
                  %td.show_posts
                    = tool.name
                  %td.center
                    - if tool.academic_tool_type.downcase == 'webconference'
                      %div= l(tool.start_hour.to_datetime, format: :at_date)
                    - else
                      %div= [l(tool.start_date.to_date), l(tool.end_date.to_date)].join(' - ')
                      %div= [(tool.start_hour), (tool.end_hour)].join(' - ') unless tool.start_hour.blank?
                  %td.center
                    %div{class: "assignment_#{tool.situation}"}= t(tool.situation, :scope => [:scores, :situation]) unless tool.situation.blank?
                  %td.center
                    = tool.working_hours.blank? ? ' - ' : tool.working_hours.to_i              
        - else
          .block_content.block_content_text= t(:itens_not_found)

      #notevaluative
        - unless @tool_not_evaluative.empty?
          %table.tb_list
            %thead
              %tr.lines
                %th{style: "width: 20%;"}= t(:tool, scope: [:scores, :info])
                %th{style: "width: 30%;"}= t(:title, scope: [:scores, :info])
                %th.center.date{style: "width: 25%;"}= t(:date_range, scope: [:scores, :info])
                %th.center{style: "width: 20%;"}= t(:situation, :scope => [:scores, :info])
            %tbody
              -  @tool_not_evaluative.each do |tool|
                %tr.lines
                  %td.show_posts
                    = t(tool.academic_tool_type.downcase, scope: [:activerecord, :models])
                  %td.show_posts
                    = tool.name
                  %td.center
                    - if tool.academic_tool_type.downcase == 'webconference'
                      %div= l(tool.start_hour.to_datetime, format: :at_date)
                    - else
                      %div= [l(tool.start_date.to_date), l(tool.end_date.to_date)].join(' - ')
                      %div= [(tool.start_hour), (tool.end_hour)].join(' - ') unless tool.start_hour.blank?
                  %td.center
                    %div{class: "assignment_#{tool.situation}"}= t(tool.situation, :scope => [:scores, :situation]) unless tool.situation.blank?
                          
        - else
          .block_content.block_content_text= t(:itens_not_found)
       

:javascript

  $(function(){
    $("#tabs").tabs();

    $("td.show_posts a").call_fancybox();
  });      