function init_chronometer(page_question, total) {
  if (typeof array_time == 'undefined') {array_time = new Array(total);}
  array_time = refresh_array_time(array_time, total);
  page = page_question;
  start(page, array_time);
}

function save_question(duration) {
  get_duration(duration);
  $(".edit_exam_response").submit();
}

function finish_exam(duration, disabled=false) {
  if(!disabled){
    save_question(duration);
    delete array_time;
  }  
}

function get_duration(duration) {
  var time = array_time[page-1]
  var new_duration = Math.floor(time / 60);
  new_duration += parseInt(duration)
  $('#duration').val(new_duration);
}

function stop_save_chronometer(duration, disabled=false) {
  if(!disabled){
    clearTimeout(t);
    save_question(duration);
  }  
}

function start(question, array_time) {
  var local_time = array_time[question-1];
  local_time ++;

  t = setTimeout(
    function(){
      array_time[question-1] = local_time;
      start(question, array_time);
    }, 1000);
}

function refresh_array_time(array_time, total) {
  for (i=0; i<total; i++){
    if (typeof array_time[i] == 'undefined') {array_time[i] = 0;}
  }
  return array_time;
}

function unique_answer(unique_id) {
  $('.item_checkbox').each(
     function(){
       var er = $(this).find('[type="radio"]');
       if (unique_id == er.val()) {
        er.prop("checked", true);
        }
     }
  );
}

function load_components(page){
  $('#order').html(page);
  $('.number').html(page + ") ");

  if ($(".next_page.disabled").length > 0) {
    $("#finish_button").show();
  }
}